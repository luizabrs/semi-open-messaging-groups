# Semi Open Messaging Groups

This repository contains the code release and benchmarks for

> Alex Davidson, Luiza Soezima and Fernando Virdia,  
> Practical Semi-Open Chat Groups for Secure Messaging Applications.

## Building in Debian

To build the code in Debian 12, first install the following dependencies.
```bash
sudo apt install -y --no-install-recommends git build-essential cmake clang-14 python3
sudo bash install_libsodium.sh
```

## Running benchmarks

The benchmarks can then be generated by running
```bash
mkdir build
cd build
cmake ..
make
./mr_impl 2>../benchmarks.json
```
The resulting data can be found in `benchmarks.json`.

To generate Table 1 in the paper, after you generated `benchmarks.json`, run the following command in the repository's root directory
```bash
python3 benchmark_table.py
```
This will print the Latex source for the table in the paper.

## Running within Docker

For ease of reproducibility, we offer a Dockerfile generating the environment described above.
To build the environment run
```bash
DOCKER="docker" bash build.sh
```
To run the benchmark within the container, activate a session by running
```bash
DOCKER="docker" bash run.sh
```
and in the resulting shell run the commands from [Running benchmarks](#running-benchmarks).

If using Podman, simply omit assigning a value to the `DOCKER` variable when invoking the above commands.

# Authors

- Luiza Soezima
- Fernando Virdia
